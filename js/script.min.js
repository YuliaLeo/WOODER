"use strict";window.onload=function(){const e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__block");function n(){const n=document.querySelectorAll(".menu__link[data-goto]");if(n.length>0){function o(n){const o=n.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){const c=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;e.classList.contains("_active")&&(document.body.classList.remove("_lock"),e.classList.remove("_active"),t.classList.remove("_active")),window.scrollTo({top:c,behavior:"smooth"}),n.preventDefault()}}n.forEach(e=>{e.addEventListener("click",o)})}}var o,c;e&&e.addEventListener("click",(function(n){document.body.classList.toggle("_lock"),e.classList.toggle("_active"),t.classList.toggle("_active")})),o=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(c=new Image).onload=c.onerror=function(){o(2==c.height)},c.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(){let e=[],t=document.querySelectorAll("[data-da]"),n=[],o=[];if(t.length>0){let r=0;for(let o=0;o<t.length;o++){const c=t[o],s=c.getAttribute("data-da");if(""!=s){const t=s.split(","),o=t[1]?t[1].trim():"last",a=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(c.setAttribute("data-da-index",r),e[r]={parent:c.parentNode,index:(i=c,l=void 0,l=Array.prototype.slice.call(i.parentNode.children),l.indexOf(i))},n[r]={element:c,destination:document.querySelector("."+t[0].trim()),place:o,breakpoint:a,type:d},r++)}}(c=n).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),c.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<n.length;e++){const t=n[e],c=t.breakpoint,i=t.type;o.push(window.matchMedia("("+i+"-width: "+c+"px)")),o[e].addListener(s)}}var c,i,l;function s(e){for(let e=0;e<n.length;e++){const t=n[e],c=t.element,i=t.destination,l=t.place,s="_dynamic_adapt_"+t.breakpoint;if(o[e].matches){if(!c.classList.contains(s)){let e=a(i)[l];"first"===l?e=a(i)[0]:"last"===l&&(e=a(i)[a(i).length]),i.insertBefore(c,i.children[e]),c.classList.add(s)}}else c.classList.contains(s)&&(r(c),c.classList.remove(s))}}function r(t){const n=t.getAttribute("data-da-index"),o=e[n],c=o.parent,i=o.index,l=a(c,!0)[i];c.insertBefore(t,c.children[l])}function a(e,t){const n=e.children,o=[];for(let e=0;e<n.length;e++){const c=n[e];(t||null==c.getAttribute("data-da"))&&o.push(e)}return o}s()}();document.querySelector(".header");let i=document.querySelector(".wrapper"),l=(document.querySelector(".page"),new Swiper(".page",{wrapperClass:"page__wrapper",slideClass:"page__screen",direction:"vertical",sliderPerView:"auto",keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},mousewheel:{sensitivity:1},watchOverflow:!0,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0,pagination:{el:".page__pagination",type:"bullets",clickable:!0,bulletClass:"page__bullet",bulletActiveClass:"page__bullet_active"},scrollbar:{el:".page__scroll",dragClass:"page__drag-scroll",draggable:!0},init:!1,on:{init:function(){!function(){if(s.length>0){s[l.realIndex].classList.add("_active");for(let n=0;n<s.length;n++){const o=s[n];o.addEventListener("click",(function(c){r(),l.slideTo(n,800),o.classList.add("_active"),e.classList.contains("_active")&&(document.body.classList.remove("_lock"),e.classList.remove("_active"),t.classList.remove("_active")),c.preventDefault()}))}}}(),a(),i.classList.add("_loaded")},slideChange:function(){r(),s[l.realIndex].classList.add("_active")},resize:function(){a()}}})),s=document.querySelectorAll(".menu__link");function r(){let e=document.querySelector(".menu__link._active");e&&e.classList.remove("_active")}function a(){i.classList.contains("_free")&&(i.classList.remove("_free"),i.classList.add("_notfree"));for(let e=0;e<l.slides.length;e++){const t=l.slides[e].querySelector(".screen__content");if(t){if(t.offsetHeight>window.innerHeight||window.innerHeight<=700){i.classList.add("_free"),i.classList.remove("_notfree"),l.destroy(),n();break}i.classList.add("_notfree")}}}l.init();const d=document.querySelectorAll(".popup-link"),u=document.querySelector("body"),p=document.querySelectorAll(".lock-padding");let m=!0;if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");g(document.getElementById(n)),e.preventDefault()}))}const f=document.querySelectorAll(".close-popup");if(f.length>0)for(let e=0;e<f.length;e++){const t=f[e];t.addEventListener("click",(function(e){_(t.closest(".popup")),e.preventDefault()}))}function g(e){if(e&&m){const t=document.querySelector(".popup._open");t?_(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(p.length>0)for(let t=0;t<p.length;t++){p[t].style.paddingRight=e}u.style.paddingRight=e,u.classList.add("_lock"),m=!1,setTimeout((function(){m=!0}),800)}(),e.classList.add("_open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||_(e.target.closest(".popup"))}))}}function _(e,t=!0){m&&(e.classList.remove("_open"),t&&(setTimeout((function(){if(p.length>0)for(let e=0;e<p.length;e++)p[e].style.paddingRight="0px";u.style.paddingRight="0px",u.classList.remove("_lock")}),800),m=!1,setTimeout((function(){m=!0}),800)))}document.addEventListener("keydown",(function(e){if(27===e.which){_(document.querySelector(".popup._open"))}})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);
//!Tambien es mejor hacer animaciones con elementos que estan dentro de los elementos estaticos
const y=document.querySelectorAll("._anim-item");if(y.length>0){function h(e){for(let e=0;e<y.length;e++){const t=y[e],n=t.offsetHeight,o=v(t).top,c=4;let i=window.innerHeight-n/c;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/c),pageYOffset>o-i&&pageYOffset<o+n?t.classList.add("_animation"):t.classList.contains("_anim-no-hide")||t.classList.remove("_animation")}}function v(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",h),setTimeout(()=>{h()},300)}!function(){let e=document.querySelectorAll(".ibg");for(let t=0;t<e.length;t++){const n=e[t];n.querySelector("img")&&(n.style.backgroundImage='url("'+n.querySelector("img").src+'")')}}(),document.addEventListener("click",(function(e){const t=e.target;!t.closest(".select")&&document.querySelector(".select._active")&&document.querySelector(".select").classList.remove("_active");t.classList.contains("quality__link")?t.classList.add("_active"):t.closest(".popup__content")&&!t.classList.contains("popup__close")||!document.querySelector(".quality__link._active")||document.querySelector(".quality__link._active").classList.remove("_active")}));const L=document.querySelector(".select"),w=document.querySelector(".select__selected"),S=document.querySelectorAll(".select__item");if(L&&(w.addEventListener("click",()=>{L.classList.toggle("_active")}),S.forEach(e=>{e.addEventListener("click",(function(t){w.innerHTML=e.querySelector(".select__span").innerHTML,L.classList.remove("_active")}))})),l&&!l.destroyed){let e=document.querySelector(".page__current");l.on("slideChange",(function(){let t=++l.realIndex;e.innerHTML="0"+t}))}};